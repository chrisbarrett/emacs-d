# Prek hooks for Emacs configuration
# Install hooks: prek install
# Run manually: prek run --all-files

repos:
  - repo: local
    hooks:
      - id: ert-tests
        name: ERT Tests
        entry: ./scripts/run-tests.sh --affected
        language: script
        pass_filenames: false
        always_run: true

      - id: byte-compile
        name: Byte Compilation
        entry: ./scripts/byte-compile.sh --affected
        language: script
        pass_filenames: false
        always_run: true

      - id: checkdoc
        name: Checkdoc
        entry: ./scripts/checkdoc.sh
        language: script
        files: '^(lisp|lib)/.*\.el$'
        exclude: '-tests\.el$'
        pass_filenames: false
